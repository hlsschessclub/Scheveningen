<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/styles.css">
    <script src="scripts/team-details.js" defer></script>
    <title>Scheveningen - Team Details</title>
</head>
<body>
    <main class="flex-center">
        <div id="input-screen-wrapper" class="flex-column flex-center">
            <h1>Input Team Information</h1>
            <div class="flex-center flex-grow-cross flex-space-evenly">
                <div class="flex-column flex-center">
                    <p>Team 1</p>
                    <button class="invisible-button" id="team-name-button-1">
                        <h2 id="team-name-1">Change Name</h2>
                    </button>
                    <div class="flex-column flex-center bordered">
                        <div class="flex-column flex-center padding-small" id="team-list-1"></div>
                        <button id="add-team-1">+</button>
                    </div>
                </div>
                <div class="flex-column flex-center">
                    <p>Team 2</p>
                    <button class="invisible-button" id="team-name-button-2">
                        <h2 id="team-name-2">Change Name</h2>
                    </button>
                    <div class="flex-column flex-center bordered">
                        <div class="flex-column flex-center padding-small" id="team-list-2"></div>
                        <button id="add-team-2">+</button>
                    </div>
                </div>
            </div>
            <!-- Modal for team names -->
            <div id="team-name-modal" class="modal">
                <div class="modal-content">
                <h2 id="team-name-modal-title">Enter Team Name</h2>
                <form id = "team-name-input-form">
                    <label for="team-name-input">Team Name:</label>
                    <input 
                        type="text" 
                        id="team-name-input"
                        maxlength="20"
                        oninput="teamValidation()"><br>
                    <button id="team-modal-submit-button" type="button" disabled>Submit</button>
                    <script>
                        function teamValidation(){
                            var teamForm = document.getElementById('team-name-input-form')
                            var button = teamForm.elements['team-modal-submit-button'];
                            var teamName = teamForm.elements["team-name-input"].value;
                            console.log(teamName)
                            button.disabled = (teamName.trim() === "");
                        }
                    </script>
                </form>
                </div>
            </div>    
            <!-- Modal for player information -->
            <div id="player-information-modal" class="modal">
                <div class="modal-content">
                <h2 id="player-information-modal-title">Enter Player Information</h2>
                <form id = "player-info-form">
                    <input 
                        type="text" 
                        id="first-name-input" 
                        placeholder="First Name" 
                        onkeydown="return /[a-z]/i.test(event.key)"
                        maxlength = "20" 
                        onchange="validateForm('player-info-form')"><br>
                    <input 
                        type="text" 
                        id="last-name-input" 
                        placeholder = "Last Name" 
                        onkeydown="return /[a-z]/i.test(event.key)"
                        maxlength = "20"
                        onchange="validateForm('player-info-form')"
                        ><br>
                    <input 
                        type="number" 
                        id="grade-input" 
                        placeholder = "Grade" 
                        onchange="validateForm('player-info-form')"><br>
                    <button id="player-modal-submit-button" type="button" disabled>Submit</button>
                </form>
                </div>
            </div>
            <!-- Modal for player update information -->
            <div id="player-information-update-modal" class="modal">
                <div class="modal-content">
                <h2 id="player-information-update-modal-title">Update Player Information</h2>
                <form id = "player-update-form">
                    <label for="first-name-input">First Name:</label>
                    <input 
                        type="text" 
                        name="first-name-input" 
                        onkeydown="return /[a-z]/i.test(event.key)" 
                        maxlength="20" 
                        onchange="validateForm('player-update-form')"/><br>
                    <label for="last-name-input">Last Name:</label>
                    <input 
                        type="text" 
                        id="last-name-input" 
                        onkeydown="return /[a-z]/i.test(event.key)" 
                        maxlength="20" 
                        onchange="validateForm('player-update-form')"/><br>
                    <label for="grade-input">Grade:</label>
                    <input 
                        type="number" 
                        id="grade-input" 
                        onchange="validateForm('player-update-form')"><br>
                    <button id="player-modal-submit-button" type="button" disabled>Submit</button>
                    <button id="player-modal-delete-button" type="button">Delete Player</button>
                </form>
                </div>
            </div>
            <button class="margin-medium" id="continue-button">Continue</button>
        </div>
    </main>
    <script>
        function validateForm(formID){
            console.log("entered form");
            var form = document.getElementById(formID);
            var submitButton = form.elements["player-modal-submit-button"];
            var fName = form.elements["first-name-input"].value;
            var lName = form.elements["last-name-input"].value;
            var grade = form.elements["grade-input"].value;
            submitButton.disabled = (fName.trim() === "" || lName.trim() === "" || grade<9 || grade > 12);

        }
    </script>
</body>
</html>